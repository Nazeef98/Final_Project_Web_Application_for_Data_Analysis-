{% extends "base.html" %}
{% block content %}
    <div class="content-section">
        <h2>Visuals & Analysis</h2>
        <p>Analyzing: <strong>{{ filename }}</strong></p>

        {% if chart_data_uri %}
            <div class="chart-container">
                <h3>Placement Status by Internship Experience</h3>
                <img src="data:image/png;base64,{{ chart_data_uri }}" alt="Placement Status by Internship Experience Chart">
                <div class="chart-insight">
                    <h4>Insight:</h4>
                    <p>This chart illustrates the number of students who were placed or not placed, categorized by whether they had internship experience. It helps in understanding the impact of internships on placement rates.</p>
                </div>
            </div>
        {% else %}
            <p>No chart could be generated. Please ensure a valid CSV with 'Placement' and 'Internship_Experience' columns is uploaded.</p>
        {% endif %}

        {# Placeholder for future analysis section #}
        <div class="analysis-section">
            <h3>Basic Data Analysis (Coming Soon)</h3>
            <p>This section will display descriptive statistics and other analytical insights for your dataset.</p>
        </div>
    </div>

    <style>
        /* Add some basic styling for the chart container */
        .chart-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .chart-container img {
            max-width: 100%;
            height: auto;
            display: block; /* Remove extra space below image */
            margin: 0 auto 20px auto;
            border: 1px solid #eee;
            border-radius: 5px;
        }

        .chart-container h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .chart-insight {
            background-color: #f9f9f9;
            border-left: 5px solid #007bff;
            padding: 15px;
            margin-top: 20px;
            text-align: left;
            border-radius: 4px;
        }

        .chart-insight h4 {
            color: #007bff;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .analysis-section {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }
    </style>
{% endblock content %}